<!DOCTYPE html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Meet Scrypted - Stream ANY Camera to ANY Home Hub" /><meta property="og:locale" content="en" /><meta name="description" content="Meet Scrypted an Open Source app that will let you connect almost any camera to any home hub, certified or not! You can connect popular devices from UniFi, Amcrest, Hikvision, Nest &amp; Google, Tuya, Reolink, and many others to your home hub of choice, whether that be Apple’s HomeKit, Google Home, Alexa, or even Home Assistant. This lets you choose and reuse your own devices and take advantage of the automation and integration you get with your Smart Home Hub." /><meta property="og:description" content="Meet Scrypted an Open Source app that will let you connect almost any camera to any home hub, certified or not! You can connect popular devices from UniFi, Amcrest, Hikvision, Nest &amp; Google, Tuya, Reolink, and many others to your home hub of choice, whether that be Apple’s HomeKit, Google Home, Alexa, or even Home Assistant. This lets you choose and reuse your own devices and take advantage of the automation and integration you get with your Smart Home Hub." /><link rel="canonical" href="https://docs.technotim.live/posts/scrypted-home-hub/" /><meta property="og:url" content="https://docs.technotim.live/posts/scrypted-home-hub/" /><meta property="og:site_name" content="Techno Tim Documentation" /><meta property="og:image" content="https://docs.technotim.live/assets/img/headers/smart-home-hub.jpg" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-05-13T10:00:00-05:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://docs.technotim.live/assets/img/headers/smart-home-hub.jpg" /><meta property="twitter:title" content="Meet Scrypted - Stream ANY Camera to ANY Home Hub" /><meta name="twitter:site" content="@technotimlive" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-05-13T11:55:30-05:00","datePublished":"2023-05-13T10:00:00-05:00","description":"Meet Scrypted an Open Source app that will let you connect almost any camera to any home hub, certified or not! You can connect popular devices from UniFi, Amcrest, Hikvision, Nest &amp; Google, Tuya, Reolink, and many others to your home hub of choice, whether that be Apple’s HomeKit, Google Home, Alexa, or even Home Assistant. This lets you choose and reuse your own devices and take advantage of the automation and integration you get with your Smart Home Hub.","headline":"Meet Scrypted - Stream ANY Camera to ANY Home Hub","image":"https://docs.technotim.live/assets/img/headers/smart-home-hub.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"https://docs.technotim.live/posts/scrypted-home-hub/"},"url":"https://docs.technotim.live/posts/scrypted-home-hub/"}</script><title>Meet Scrypted - Stream ANY Camera to ANY Home Hub | Techno Tim Documentation</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Techno Tim Documentation"><meta name="application-name" content="Techno Tim Documentation"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.min.js"></script><body data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://avatars.githubusercontent.com/u/1322205?s=400&u=5b4f2219006577dc0426007fe5a02391c4899677&v=4" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">Techno Tim Documentation</a></div><div class="site-subtitle font-italic">Video documentation for all your copy pasta needs!</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://twitter.com/technotimlive" aria-label="twitter" target="_blank" rel="noopener noreferrer"> <i class="fab fa-twitter"></i> </a> <a href="https://l.technotim.live/subscribe" aria-label="youtube" target="_blank" rel="noopener noreferrer"> <i class="fab fa-youtube"></i> </a> <a href="https://github.com/timothystewart6" aria-label="github" target="_blank" rel="noopener noreferrer"> <i class="fab fa-github"></i> </a> <a href="https://l.technotim.live/patreon" aria-label="patreon" target="_blank" rel="noopener noreferrer"> <i class="fab fa-patreon"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Meet Scrypted - Stream ANY Camera to ANY Home Hub</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Meet Scrypted - Stream ANY Camera to ANY Home Hub</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1683990000" data-df="ll" data-toggle="tooltip" data-placement="bottom"> May 13, 2023 </em> </span> <span> Updated <em class="" data-ts="1683996930" data-df="ll" data-toggle="tooltip" data-placement="bottom"> May 13, 2023 </em> </span><div class="mt-3 mb-3"> <a href="/assets/img/headers/smart-home-hub.jpg" class="popup img-link preview-img shimmer"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 630'%3E%3C/svg%3E" data-src="/assets/img/headers/smart-home-hub.jpg" alt="Preview Image" width="1200" height="630" class="lazyload" data-proofer-ignore></a></div><div class="d-flex justify-content-between"> <span> By <em> <a href="https://l.technotim.live/twitter">Techno Tim</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2502 words"> <em>13 min</em> read</span></div></div></div><div class="post-content"><p>Meet Scrypted an Open Source app that will let you connect almost any camera to any home hub, certified or not! You can connect popular devices from UniFi, Amcrest, Hikvision, Nest &amp; Google, Tuya, Reolink, and many others to your home hub of choice, whether that be Apple’s HomeKit, Google Home, Alexa, or even Home Assistant. This lets you choose and reuse your own devices and take advantage of the automation and integration you get with your Smart Home Hub.</p><iframe class="embed-video youtube lazyload" src="https://www.youtube.com/embed/x1xsFRQYSv0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><p>📺 <a href="https://www.youtube.com/watch?v=x1xsFRQYSv0">Watch Video</a></p><h2 id="where-to-buy"><span class="mr-2">Where to Buy</span><a href="#where-to-buy" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>UniFi UDM SE - <a href="https://amzn.to/44TWJYJ">https://amzn.to/44TWJYJ</a></p><p>UniFi Cameras - <a href="https://amzn.to/3M3FPyp">https://amzn.to/3M3FPyp</a></p><p>Apple TV 4k - <a href="https://amzn.to/3M1ZFtz">https://amzn.to/3M1ZFtz</a></p><p>Apple iPad - <a href="https://amzn.to/3VX1k8z">https://amzn.to/3VX1k8z</a></p><p>Echo Dot - <a href="https://amzn.to/44YmpTW">https://amzn.to/44YmpTW</a></p><p>Echo Show 5 - <a href="https://amzn.to/3MmFdoN">https://amzn.to/3MmFdoN</a></p><p>Echo Show 15 - <a href="https://amzn.to/3Mo8ZJM">https://amzn.to/3Mo8ZJM</a></p><p>See the whole kit here!</p><p><a href="https://kit.co/TechnoTim/smart-home-hubs-devices">https://kit.co/TechnoTim/smart-home-hubs-devices</a></p><p>(Affiliate links are included in this description. I may receive a small commission at no cost to you.)</p><h2 id="smart-home-camera-fragmentation"><span class="mr-2">Smart Home Camera Fragmentation</span><a href="#smart-home-camera-fragmentation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>I have cameras in and around my house. I have cameras on the front door, cameras inside my house, cameras that point outside of my house, cameras in my garage, cameras in my server room, and even cameras in my server rack….</p><p><a href="/assets/img/posts/camera-in-my-server-rack.jpg" class="popup img-link "><img data-src="/assets/img/posts/camera-in-my-server-rack.jpg" alt="Camera in my server rack" class="lazyload" data-proofer-ignore></a> <em>Don’t ask…</em></p><p>All of these cameras work great and I keep all of the recorded footage in my home but what’s not great is that I am not able to tap into popular Home Hubs like HomeKit, Alexa, Google Home, or even Home Assistant. That’s because many of these platforms require some very specific requirements for adding cameras to your home hub. That means they might have to be certified, have to be compatible, and both manufacturers have to get along… and we know how that story goes.</p><p><a href="/assets/img/posts/ecosystem meme.jpg" class="popup img-link "><img data-src="/assets/img/posts/ecosystem meme.jpg" alt="Getting ecosystems to play nice together" class="lazyload" data-proofer-ignore></a> <em>Getting ecosystems to play nice together</em></p><p>So this left me with using one app to check my video, while leaving a whole host of features that my home hub provides on the table. Things like notifications within my ecosystem, the ability to trigger automation based on my eco system, cool features like picture in a picture on other devices, and all the things that make home hubs, well, hubs. And while I do like my home security choice, I don’t like that it doesn’t integrate with my home hub of choice. It’s not my fault these two companies don’t get along and I am not going to buy all new cameras just to be compatible with my home hub. That’s where Scrypted comes in.</p><h2 id="what-is-scrypted"><span class="mr-2">What is Scrypted</span><a href="#what-is-scrypted" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><a href="https://scrypted.app">Scrypted</a> is open source software that you host on your own machine that allows you to connect almost any camera to any hub, that’s right, certified or not.</p><p>You can connect popular devices from UniFi, Amcrest, Hikvision, Nest &amp; Google, Tuya, Reolink, and many others to your home hub of choice, whether that be Apple’s HomeKit, Google Home, Alexa, or even Home Assistant. This lets you choose and reuse your own devices and take advantage of the automation and integration you get with your home hub. That’s right, something the big players aren’t offering you, and that’s choice. This means that you don’t have to pay for that subscription if you want video outside of your home, you can use scrypted to connect to one of the major hubs or even an open source one like Home Assistant.</p><p><a href="/assets/img/posts/scrypted-integrations-and-hubs.jpg" class="popup img-link "><img data-src="/assets/img/posts/scrypted-integrations-and-hubs.jpg" alt="Scrypted integrations" class="lazyload" data-proofer-ignore></a> <em>Scrypted supports many different camera integrations and many Home Hubs!</em></p><p>Here’s where it gets really cool…</p><p>Scrypted is pluggable, so it allows developers to create and update plugins within Scrypted, giving them and you lots of flexibility. Want to connect a Google Nest Camera to Alexa? Sure! Want to connect a Reolink camera to Google Home, absolutely! Want to connect your UniFi Cameras to HomeKit? No problem! What about connecting some named or no name camera that only supports RTSP or ONVIF? Scrypted has you covered!</p><h2 id="scrypted-requirements"><span class="mr-2">Scrypted Requirements</span><a href="#scrypted-requirements" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>You’re probably wondering, what does all of this cost? Well, if you already have the hardware it costs nothing but a little bit of your time.</p><p>The next thing you’re probably asking what hardware you need to get started, or maybe you’re not even asking that, but I will tell you that you will need some hardware to get started 😀</p><p>The <a href="https://github.com/koush/scrypted#installation">requirements are actually pretty low</a> and you can run it on the latest raspberry pi, or Windows, Mac, or Linux, and even Docker, either standalone or on many NAS devices like Unraid or Synology. It’s easy to set up and after you’ve connected your cameras to your home hub, you’ll be able to take advantage of all of the integrations your camera offers as well as automation your hub offers.</p><p>So that’s what I am going after today, setting up Scrypted to connect my UniFi cameras to my HomeKit hub, which is one of my Apple TVs so I can use all of my cameras as if they are HomeKit Certified. Now wait, even if you don’t want or have this combination of devices and hubs, you can still follow along to set this up with any camera or any hub.</p><h2 id="installing-scrypted-with-docker"><span class="mr-2">Installing Scrypted with Docker</span><a href="#installing-scrypted-with-docker" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>So I first created a Linux machine and then installed Docker, which I highly recommend using, but if you don’t feel comfortable you can install it any other way you like. If you are using Docker, I recommend doing this on Ubuntu, but Windows Mac, or any other version of Linux will work just fine. If you’re using a Linux machine I recommend using Docker and Portainer. <a href="https://www.portainer.io/">Portainer</a> is a great container management system for Docker that has a great UI. The <a href="https://docs.portainer.io/start/install-ce?hsCtaTracking=a66b69bb-4970-46b7-bc31-cfc8022c7eb2%7C0d5be9a2-9dac-4ab1-9498-4b07566effd3">install</a> is fast and painless and makes managing Docker really easy.</p><p>Once you’re in portainer, all you need to do is connect to your Docker instance, add a container, and then set a few properties like the name of the container, the image name and tag, and then you’ll need to map your data volume from the container to the local machine. This should be somewhere your Portainer machine can read and write to, for me it’s just a simple path to a folder on the machine. The last thing they recommend is setting the network to host mode which means it will use the networking on the host instead of Docker networking. Once all that’s set, just deploy the container and you’re good to go.</p><p><a href="/assets/img/posts/scrypted-portainer-install.jpg" class="popup img-link "><img data-src="/assets/img/posts/scrypted-portainer-install.jpg" alt="Scrypted integrations" class="lazyload" data-proofer-ignore></a> <em>Installing Scrypted with Portainer is simple!</em></p><p>Oh, and if you want to use Docker compose, you can use this to get started quickly! Note, this will also include <code class="language-plaintext highlighter-rouge">watchtower</code> to updated your stack automatically. If you don’t want to use <code class="language-plaintext highlighter-rouge">watchtower</code> just comment out that section.</p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
</pre><td class="rouge-code"><pre><span class="na">version</span><span class="pi">:</span> <span class="s2">"</span><span class="s">3.5"</span>

<span class="c1"># The Scrypted docker-compose.yml file typically resides at:</span>
<span class="c1"># ~/.scrypted/docker-compose.yml</span>

<span class="c1"># Example volumes SMB (CIFS) and NFS.</span>
<span class="c1"># Uncomment only one.</span>

<span class="c1"># volumes:</span>
<span class="c1">#     nvr:</span>
<span class="c1">#         driver_opts:</span>
<span class="c1">#             type: cifs</span>
<span class="c1">#             o: username=[username],password=[password],vers=3.0,file_mode=0777,dir_mode=0777 </span>
<span class="c1">#             device: //[ip-address]/[path-to-directory]</span>
<span class="c1">#     nvr:</span>
<span class="c1">#         driver_opts:</span>
<span class="c1">#             type: "nfs"</span>
<span class="c1">#             o: "addr=[ip-address],nolock,soft,rw"</span>
<span class="c1">#             device: ":[path-to-directory]"</span>

<span class="na">services</span><span class="pi">:</span>
    <span class="na">scrypted</span><span class="pi">:</span>
        <span class="na">image</span><span class="pi">:</span> <span class="s">koush/scrypted</span>
        <span class="na">environment</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">SCRYPTED_WEBHOOK_UPDATE_AUTHORIZATION=Bearer SET_THIS_TO_SOME_RANDOM_TEXT</span>
            <span class="pi">-</span> <span class="s">SCRYPTED_WEBHOOK_UPDATE=http://localhost:10444/v1/update</span>
            <span class="c1"># nvidia support</span>
            <span class="c1"># - NVIDIA_VISIBLE_DEVICES=all</span>
            <span class="c1"># - NVIDIA_DRIVER_CAPABILITIES=all</span>
        <span class="c1"># runtime: nvidia</span>
        <span class="na">container_name</span><span class="pi">:</span> <span class="s">scrypted</span>
        <span class="na">restart</span><span class="pi">:</span> <span class="s">unless-stopped</span>
        <span class="na">network_mode</span><span class="pi">:</span> <span class="s">host</span>

        <span class="na">devices</span><span class="pi">:</span>
            <span class="c1"># hardware accelerated video decoding, opencl, etc.</span>
            <span class="pi">-</span> <span class="s">/dev/dri:/dev/dri</span>
            <span class="c1"># uncomment below as necessary.</span>
            <span class="c1"># zwave usb serial device</span>
            <span class="c1">#   - /dev/ttyACM0:/dev/ttyACM0</span>
            <span class="c1"># all usb devices, such as coral tpu</span>
            <span class="c1">#   - /dev/bus/usb:/dev/bus/usb</span>

        <span class="na">volumes</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">~/.scrypted/volume:/server/volume</span>
            <span class="c1"># modify and add the additional volume for Scrypted NVR</span>
            <span class="c1"># the following example would mount the /mnt/sda/video path on the host</span>
            <span class="c1"># to the /nvr path inside the docker container.</span>
            <span class="c1"># - /mnt/sda/video:/nvr</span>

            <span class="c1"># or use a network mount from one of the examples above</span>
            <span class="c1"># - type: volume</span>
            <span class="c1">#   source: nvr</span>
            <span class="c1">#   target: /nvr</span>
            <span class="c1">#   volume:</span>
            <span class="c1">#     nocopy: true</span>

            <span class="c1"># uncomment the following lines to expose Avahi, an mDNS advertiser.</span>
            <span class="c1"># make sure Avahi is running on the host machine, otherwise this will not work.</span>
            <span class="c1"># - /var/run/dbus:/var/run/dbus</span>
            <span class="c1"># - /var/run/avahi-daemon/socket:/var/run/avahi-daemon/socket</span>
        <span class="c1"># logging is noisy and will unnecessarily wear on flash storage.</span>
        <span class="c1"># scrypted has per device in memory logging that is preferred.</span>
        <span class="na">logging</span><span class="pi">:</span>
            <span class="na">driver</span><span class="pi">:</span> <span class="s2">"</span><span class="s">json-file"</span>
            <span class="na">options</span><span class="pi">:</span>
                <span class="na">max-size</span><span class="pi">:</span> <span class="s2">"</span><span class="s">10m"</span>
                <span class="na">max-file</span><span class="pi">:</span> <span class="s2">"</span><span class="s">10"</span>
        <span class="na">labels</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s2">"</span><span class="s">com.centurylinklabs.watchtower.scope=scrypted"</span>

    <span class="c1"># watchtower manages updates for Scrypted.</span>
    <span class="na">watchtower</span><span class="pi">:</span>
        <span class="na">environment</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">WATCHTOWER_HTTP_API_TOKEN=SET_THIS_TO_SOME_RANDOM_TEXT</span>
            <span class="pi">-</span> <span class="s">WATCHTOWER_HTTP_API_UPDATE=true</span>
            <span class="pi">-</span> <span class="s">WATCHTOWER_SCOPE=scrypted</span>
            <span class="c1"># remove the following line to never allow docker to auto update.</span>
            <span class="c1"># this is not recommended.</span>
            <span class="pi">-</span> <span class="s">WATCHTOWER_HTTP_API_PERIODIC_POLLS=true</span>
        <span class="na">image</span><span class="pi">:</span> <span class="s">containrrr/watchtower</span>
        <span class="na">container_name</span><span class="pi">:</span> <span class="s">scrypted-watchtower</span>
        <span class="na">restart</span><span class="pi">:</span> <span class="s">unless-stopped</span>
        <span class="na">volumes</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">/var/run/docker.sock:/var/run/docker.sock</span>
        <span class="na">labels</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s2">"</span><span class="s">com.centurylinklabs.watchtower.scope=scrypted"</span>
        <span class="na">ports</span><span class="pi">:</span>
            <span class="c1"># The auto update port 10444 can be configured</span>
            <span class="c1"># Must match the port in the auto update url above.</span>
            <span class="pi">-</span> <span class="s">10444:8080</span>
        <span class="c1"># check for updates once an hour (interval is in seconds)</span>
        <span class="na">command</span><span class="pi">:</span> <span class="s">--interval 3600 --cleanup --scope scrypted</span>
</pre></table></code></div></div><h2 id="configuring-scrypted"><span class="mr-2">Configuring Scrypted</span><a href="#configuring-scrypted" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Once the container is running, you’ll want to go to the machines IP address on port 10443</p><p>Once you get there you will be greeted with a sign in page where you will create an account and password. Once signing in you will see the scripted homepage!</p><p>The first thing I did was turn on dark mode, of course, and then went into the plugins page and clicked install plugins.</p><p>Here you’ll want to install the plugin for the platform you want to support. Scripted supports many different cameras and many different hub platforms, for instance you can search for Alex and see the plugins for Amazon Alexa or Google home and see the integrations for Google home, or even Amcrest if you want to find the amcrest camera plugin! There are lots of supported cameras but for me this is going to be unifi so I searched for unifi and installed it. Once it’s installed it will ask for a username and password for your unifi device. We need to create one in UniFi protect, but you’ll want to create a new local account and not provide yours!</p><p><a href="/assets/img/posts/scrypted-plugin-install.jpg" class="popup img-link "><img data-src="/assets/img/posts/scrypted-plugin-install.jpg" alt="Scrypted plugins" class="lazyload" data-proofer-ignore></a> <em>Installing the uniFi Protect Plugin for Scrypted</em></p><h2 id="create-unifi--protect-user"><span class="mr-2">Create UniFi Protect User</span><a href="#create-unifi--protect-user" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>So we need to go into UniFi and create a new user. We’ll have to do this in the UniFi console and what I did was create a new Role first that has Full Management access to Protect. The documentation says that you might be able to drop this down later to a Read Only user, which I may do, but I will create the user and give it admin access to Protect only. Again, be sure to create a local account and set the permissions appropriately.</p><p>Once that user was created I then added the user and the password as well as the IP address of my UDM SE.</p><p>Once I saved my credentials I could then see all of my cameras and you can view them now, however since I am going to use HomeKit, I need to add that plugin as well.</p><p><a href="/assets/img/posts/scrypted-unifi-protect-user.jpg" class="popup img-link "><img data-src="/assets/img/posts/scrypted-unifi-protect-user.jpg" alt="Scrypted plugins" class="lazyload" data-proofer-ignore></a> <em>You’ll need to create an account in UniFi Protect for Scrypted to use</em></p><h2 id="adding-cameras-to-homekit"><span class="mr-2">Adding Cameras to HomeKit</span><a href="#adding-cameras-to-homekit" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>So I searched for the HomeKit plugin and installed it. We don’t need to change anything in the plugin, I just reloaded the unifi plugin and went back into my cameras. Now you’ll see some additional options, one being HomeKit. You’ll want to be sure that this is enabled. I also made sure that the SnapSho tplugin was enabled too.</p><p>Once this was set up, all I had to do now was just add the cameras to HomeKit.</p><p>I did this by navigating to each individual camera in Scrypted and then clicked on HomeKit and then Clicked on pairing. It will then show you a QR code which you can scan and it will add it to your home in HomeKitI did this for all of my cameras, accepted the message about it not being an officially certified accessory, and then chose the default settings of stream while I am home and while I am away. The reason I didn’t change any of this is because I still still use my UniFi Protect for camera storage, rather than store it on my docker container. And for those counting, I have nine cameras…. Yes, 9 cameras…</p><h2 id="awesome-integration--automation"><span class="mr-2">Awesome Integration &amp; Automation</span><a href="#awesome-integration--automation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Now that we have this set up, what can we do with it?</p><p>Well, now in the home app I can see all of my cameras at a glance. I can see the latest snapshot of each camera and drill in further to see a live view. I can pin the camera too so that I can multitask.</p><p><a href="/assets/img/posts/scrypted-homekit-apple-tv.jpg" class="popup img-link "><img data-src="/assets/img/posts/scrypted-homekit-apple-tv.jpg" alt="Scrypted Apple TV Integration" class="lazyload" data-proofer-ignore></a> <em>Finally! Notifications on my Apple TV!</em></p><p>I get notifications if someone presses the doorbell and I can talk with them too. Not only do I get notifications on my phone, but I also get them on my macbook, ipad, and even AppleTV - so just in case I am “super busy” watching something that’s “super important” I can decide whether or not to get my lazy butt off the couch.</p><p>Here’s the other cool thing: Since I have an Apple TV, I can even say “Hey Siri” show me my cameras and it will show me all of my connected cameras. From there I can browse them, pick one to watch and even listen to, and even pin it to the screen so I can keep an eye on things or if I am expecting a delivery. If they are in the same zone as other devices, I can interact with these devices too, like toggling on and off the lights on my porch.</p><p><a href="/assets/img/posts/scrypted-pip-tv-game.jpg" class="popup img-link "><img data-src="/assets/img/posts/scrypted-pip-tv-game.jpg" alt="Scrypted Apple TV Picture in a Picture" class="lazyload" data-proofer-ignore></a> Picture in a Picture on my TV!_</p><h2 id="more-scrypted-compatibility"><span class="mr-2">More Scrypted Compatibility</span><a href="#more-scrypted-compatibility" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>One of the things I like most about Scrypted is that I can use almost any camera I want and I can connect it to one of many platforms. Now, I obviously connected UniFi cameras to HomeKit, but you can connect almost any camera to any platform. Want to connect some old PoE cameras to Alex or Google Home Hub, or even Home Assistant? No problem. That’s the beauty of Scrypted, is that it’s pluggable and can connect almost any camera to any Home Hub. Well, I learned a lot about Scrypted, HomeKit, and Unifi Protect and I hope you learned something too. And remember if you found anything in this video helpful, don’t forget to like and subscribe. Thanks for reading and watching!</p><h2 id="join-the-conversation"><span class="mr-2">Join the conversation</span><a href="#join-the-conversation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><blockquote class="twitter-tweet" data-dnt="true" data-theme="dark"><p lang="en" dir="ltr">What a week! I found this awesome open source software that let&#39;s me connect and stream almost ANY camera to ANY Smart Home Hub. No more vendor lock! It&#39;s called Scrypted and it&#39;s awesome!<br /><br />Check it out!👉<a href="https://t.co/NdvoQydUEo">https://t.co/NdvoQydUEo</a> <a href="https://t.co/RIbFIKNJgp">pic.twitter.com/RIbFIKNJgp</a></p>&mdash; Techno Tim (@TechnoTimLive) <a href="https://twitter.com/TechnoTimLive/status/1657405981456752641?ref_src=twsrc%5Etfw">May 13, 2023</a></blockquote><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><h2 id="links"><span class="mr-2">Links</span><a href="#links" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>⚙️ See all the hardware I recommend at <a href="https://l.technotim.live/gear">https://l.technotim.live/gear</a></p><p>🚀 Don’t forget to check out the <a href="https://l.technotim.live/quick-start">🚀Launchpad repo</a> with all of the quick start source files</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/self-hosted/'>self-hosted</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/scrypted/" class="post-tag no-text-decoration" >scrypted</a> <a href="/tags/smart-home/" class="post-tag no-text-decoration" >smart-home</a> <a href="/tags/iot/" class="post-tag no-text-decoration" >iot</a> <a href="/tags/unifi/" class="post-tag no-text-decoration" >unifi</a> <a href="/tags/apple/" class="post-tag no-text-decoration" >apple</a> <a href="/tags/google/" class="post-tag no-text-decoration" >google</a> <a href="/tags/amazon/" class="post-tag no-text-decoration" >amazon</a> <a href="/tags/alexa/" class="post-tag no-text-decoration" >alexa</a> <a href="/tags/home-assistant/" class="post-tag no-text-decoration" >home-assistant</a> <a href="/tags/home-security/" class="post-tag no-text-decoration" >home-security</a> <a href="/tags/open-source/" class="post-tag no-text-decoration" >open-source</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Meet%20Scrypted%20-%20Stream%20ANY%20Camera%20to%20ANY%20Home%20Hub%20-%20Techno%20Tim%20Documentation&url=https%3A%2F%2Fdocs.technotim.live%2Fposts%2Fscrypted-home-hub%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Meet%20Scrypted%20-%20Stream%20ANY%20Camera%20to%20ANY%20Home%20Hub%20-%20Techno%20Tim%20Documentation&u=https%3A%2F%2Fdocs.technotim.live%2Fposts%2Fscrypted-home-hub%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fdocs.technotim.live%2Fposts%2Fscrypted-home-hub%2F&text=Meet%20Scrypted%20-%20Stream%20ANY%20Camera%20to%20ANY%20Home%20Hub%20-%20Techno%20Tim%20Documentation" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fdocs.technotim.live%2Fposts%2Fscrypted-home-hub%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/cloud-init-cloud-image/">Perfect Proxmox Template with Cloud Image and Cloud Init</a><li><a href="/posts/low-power-cluster/">Low Power Cluster - Small, Efficient, BUT Powerful!</a><li><a href="/posts/scrypted-home-hub/">Meet Scrypted - Stream ANY Camera to ANY Home Hub</a><li><a href="/posts/fist-13-things-linux/">Before I do anything on Linux, I do these first...</a><li><a href="/posts/pikvm-at-scale/">Using the Raspberry Pi PiKVM with Multiple Machines</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/homelab/">homelab</a> <a class="post-tag" href="/tags/kubernetes/">kubernetes</a> <a class="post-tag" href="/tags/rancher/">rancher</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/hardware/">hardware</a> <a class="post-tag" href="/tags/self-hosted/">self-hosted</a> <a class="post-tag" href="/tags/portainer/">portainer</a> <a class="post-tag" href="/tags/proxmox/">proxmox</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/k3s/">k3s</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc"></nav></div><script src="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.js"></script></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/home-security-upgrade/"><div class="card-body"> <em class="small" data-ts="1610805600" data-df="ll" > Jan 16, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>My HUGE Home Security Upgrade</h3><div class="text-muted small"><p> I am a huge fan of self hosted home security and I’ve been doing it for years. I love the idea of being able to check on my home when I am away. Also, I’ve always kept my video footage on premise ...</p></div></div></a></div><div class="card"> <a href="/posts/unifi-ap-bridge-mode/"><div class="card-body"> <em class="small" data-ts="1600524000" data-df="ll" > Sep 19, 2020 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Bridge Mode with UniFi Access Points</h3><div class="text-muted small"><p> Do you have some places where you can’t run ethernet? Do want to extend your ethernet without pulling more cable? Well this is the guide for you. In this step-by-step tutorial we’ll use a Ubiqui...</p></div></div></a></div><div class="card"> <a href="/posts/fast-internet-test-cli/"><div class="card-body"> <em class="small" data-ts="1675609200" data-df="ll" > Feb 5, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Test Your Internet Speed from the Linux Terminal with fast</h3><div class="text-muted small"><p> What is FAST.com? FAST.com is speed test gives you an estimate of your current Internet speed. It was created by Netflix to bring transparency to your upload / download speeds and to see if your ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/k8s-reflector/" class="btn btn-outline-primary" prompt="Older"><p>Mirror your Kubernetes configs, secrets, and resources to other namespaces</p></a><div class="btn btn-outline-primary disabled" prompt="Newer"><p>-</p></div></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "techno-tim/techno-tim.github.io", "data-repo-id": "MDEwOlJlcG9zaXRvcnkyNTQ3ODQ3Nzk", "data-category": "Comments", "data-category-id": "DIC_kwDODy-1C84CSN7z", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "en", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/homelab/">homelab</a> <a class="post-tag" href="/tags/kubernetes/">kubernetes</a> <a class="post-tag" href="/tags/rancher/">rancher</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/hardware/">hardware</a> <a class="post-tag" href="/tags/self-hosted/">self-hosted</a> <a class="post-tag" href="/tags/portainer/">portainer</a> <a class="post-tag" href="/tags/proxmox/">proxmox</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/k3s/">k3s</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://l.technotim.live/twitter">Techno Tim</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0">See something wrong? Want to contribute? <a href="https://github.com/techno-tim/techno-tim.github.io/tree/master/_posts">Edit this page 📝</href></p></div></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available!</p><button type="button" class="btn btn-primary" aria-label="Update"> Update 🚀 </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1.11.6/dayjs.min.js,npm/dayjs@1.11.6/locale/en.min.js,npm/dayjs@1.11.6/plugin/relativeTime.min.js,npm/dayjs@1.11.6/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-NZ5V7DM8F5"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-NZ5V7DM8F5'); }); </script>
